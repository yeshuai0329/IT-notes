# 前端模块化

## 一、概念

​		前端模块化是一个前端发展的必然结果。对项目未来的一个规划，如果一个项目越来越大，一个文件内的文件内容越来越多。项目便变得臃肿和混乱。此时便需要一种技术手段，拆分文件，使单一文件履行单一的功能。最后所有拆分的文件再按照某种方法组装在一起来实现系统功能。这就是前端模块化。

## 二、JS 模块化

### 1.历史发展

#### 1.1早期普通函数

​		因为 JS 中函数是有独立作用域的，并且函数中可以放任何代码，只需要在需要使用的地方调用即可：

```javascript
function fn1(){
  //...
}
function fn2(){
  //...
}
function fn3() {
  fn1()
  fn2()
}
```

**优：代码分离及组织，看着挺清晰**

**缺：代码量增大，会产生命名冲突，模块成员之间看不出关系。**

#### 1.2 命名空间对象

​		因为对象可以有属性，而它的属性既可以是数据，也可以是方法，刚好能够很好地满足需求，而且对象的属性通过对象名字来访问，相当于设定了一个命名空间。

```javascript
var myModule = {
  name: "isboyjc",
  getName: function (){
    console.log(this.name)
  }
}

// 使用
myModule.getName()
```

**优：代码分离及组织，看着挺清晰, 有了命名空间**

**缺：代码量增大，会产生命名冲突，模块成员之间看不出关系，可以随意修改对象上的属性。**

#### 1.3 立即执行函数

​		其实是利用函数闭包的特性来实现私有数据和共享方法

```javascript
var myModule = (function() {
  var name = 'isboyjc'
  
  function getName() {
    console.log(name)
  }
  
  return { getName } 
})()

myModule.getName() // isboyjc
```

#### 1.4 `Commonjs`

> ​		每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。
>
> ​		CommonJS 规范还规定，每个模块内部有两个变量可以使用，`require` 和 `module`。